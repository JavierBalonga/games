"use strict";(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[179],{424:(t,e,s)=>{s.d(e,{Z:()=>h});var i=s(81),r=s.n(i),a=s(645),n=s.n(a)()(r());n.push([t.id,"body {\n  background-color: #222222;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\ncanvas {\n  border: 2px solid #ffffff;\n  border-radius: 12px;\n  width: 100vw;\n  height: 100vh;\n  max-width: 350px;\n  max-height: 700px;\n}\n",""]);const h=n},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s="",i=void 0!==e[5];return e[4]&&(s+="@supports (".concat(e[4],") {")),e[2]&&(s+="@media ".concat(e[2]," {")),i&&(s+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),s+=t(e),i&&(s+="}"),e[2]&&(s+="}"),e[4]&&(s+="}"),s})).join("")},e.i=function(t,s,i,r,a){"string"==typeof t&&(t=[[null,t,void 0]]);var n={};if(i)for(var h=0;h<this.length;h++){var o=this[h][0];null!=o&&(n[o]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);i&&n[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),s&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=s):l[2]=s),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},81:t=>{t.exports=function(t){return t[1]}},548:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var i=s(379),r=s.n(i),a=s(795),n=s.n(a),h=s(569),o=s.n(h),d=s(565),l=s.n(d),u=s(216),c=s.n(u),f=s(589),p=s.n(f),g=s(424),m={};m.styleTagTransform=p(),m.setAttributes=l(),m.insert=o().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=c(),r()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},379:t=>{var e=[];function s(t){for(var s=-1,i=0;i<e.length;i++)if(e[i].identifier===t){s=i;break}return s}function i(t,i){for(var a={},n=[],h=0;h<t.length;h++){var o=t[h],d=i.base?o[0]+i.base:o[0],l=a[d]||0,u="".concat(d," ").concat(l);a[d]=l+1;var c=s(u),f={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==c)e[c].references++,e[c].updater(f);else{var p=r(f,i);i.byIndex=h,e.splice(h,0,{identifier:u,updater:p,references:1})}n.push(u)}return n}function r(t,e){var s=e.domAPI(e);return s.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;s.update(t=e)}else s.remove()}}t.exports=function(t,r){var a=i(t=t||[],r=r||{});return function(t){t=t||[];for(var n=0;n<a.length;n++){var h=s(a[n]);e[h].references--}for(var o=i(t,r),d=0;d<a.length;d++){var l=s(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=o}}},569:t=>{var e={};t.exports=function(t,s){var i=function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(s)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,s)=>{t.exports=function(t){var e=s.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(s){!function(t,e,s){var i="";s.supports&&(i+="@supports (".concat(s.supports,") {")),s.media&&(i+="@media ".concat(s.media," {"));var r=void 0!==s.layer;r&&(i+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),i+=s.css,r&&(i+="}"),s.media&&(i+="}"),s.supports&&(i+="}");var a=s.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,s)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},981:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(33);class r extends i.GameElement{constructor(){super(),this.shape=new i.CircleShape({color:"#fff",radius:32})}update(t){this.shape.centerX=t.width/2,this.shape.centerY=t.height/2}}e.default=r},242:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(33),a=i(s(675)),n="#f2d402",h="#ffffff";class o extends r.GameElement{constructor({stage:t,id:e}){super(),this.stage=t,this.shape=new r.CircleShape({color:h,radius:16}),this.collider=new r.CircleCollider({radius:16}),this.particleEmitter=new a.default,this.id=e}setup(){this.degree=this.id*(Math.PI/3),this.radiusSpeed=0}update(t){if("gameover"===this.stage.state.status)return;const e=Math.floor(Math.log(this.stage.state.score||1)/Math.log(2)),s=Math.PI*t.deltaTime/8e3,i=Math.sin(Math.PI*t.time/5e3);this.degree+=e*s*i;const r=t.width/2,a=t.height/2,o=r+128*Math.cos(this.degree),d=a+128*Math.sin(this.degree);this.shape.centerX=o,this.shape.centerY=d,this.collider.centerX=o,this.collider.centerY=d,this.shape.color=this.isTarget?n:h,this.shape.radius+=this.radiusSpeed,this.shape.radius<=0&&(this.radiusSpeed=2),this.shape.radius>16&&(this.shape.radius=16,this.radiusSpeed=0)}get isTarget(){return this.id===this.stage.state.target}hited(){this.radiusSpeed=-2,this.particleEmitter.emit(Array.from({length:64}).map((()=>{const t=4*Math.random()+1,e=this.degree+Math.random()*Math.PI/2-Math.PI/4;return{x:this.shape.centerX,y:this.shape.centerY,radius:1.5,color:n,update:s=>{s.x+=Math.cos(e)*t,s.y+=Math.sin(e)*t}}})))}}e.default=o},675:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(33);class r extends i.GameElement{constructor(){super(),this.particles={}}update(t){Object.values(this.particles).forEach((e=>{e.update(e),t.renderer.beginPath(),t.renderer.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.renderer.fillStyle=e.color,t.renderer.fill()}))}emit(t,e=1e3){const s=t.map((t=>{const e=Math.random().toString(36).substring(2,9);return this.particles[e]=t,e}));setTimeout((()=>{s.forEach((t=>{delete this.particles[t]}))}),e)}}e.default=r},967:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(33);class r extends i.GameElement{constructor({stage:t}){super(),this.stage=t,this.shape=new i.CircleShape({color:"#fff",radius:8}),this.collider=new i.CircleCollider({radius:8})}setup(){this.state="ready",this.degree=-90,this.orbitRadius=48,this.degreeSpeed=.1,this.radiusSpeed=0,this.direction=1}shoot(){"ready"===this.state&&(this.state="shooted",this.radiusSpeed=.5,this.degreeSpeed=0)}return(){this.state="returning",this.radiusSpeed=-1,this.direction=1===this.direction?-1:1}update(t){if("gameover"===this.stage.state.status)return;for(this.orbitRadius+=t.deltaTime*this.radiusSpeed,this.degree=this.degree+this.direction*t.deltaTime*this.degreeSpeed;this.degree<0;)this.degree+=360;for(;this.degree>360;)this.degree-=360;"returning"===this.state&&this.orbitRadius<=48&&(this.state="ready",this.orbitRadius=48,this.radiusSpeed=0,this.degreeSpeed=.1);const e=this.degree*(Math.PI/180),s=t.width/2,i=t.height/2,r=s+Math.cos(e)*this.orbitRadius,a=i+Math.sin(e)*this.orbitRadius;this.collider.centerX=this.shape.centerX=r,this.collider.centerY=this.shape.centerY=a}}e.default=r},294:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(33);class r extends i.GameElement{constructor({stage:t}){super(),this.stage=t}update({renderer:t,width:e,height:s}){t.font="32px Orbitron",t.textAlign="center",t.fillStyle="#fff",t.fillText(this.stage.state.score.toString(),e/2,s/2-180)}}e.default=r},41:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(33),a=i(s(294));class n extends r.GameElement{constructor({stage:t}){super(),this.stage=t,this.scoreNumber=new a.default({stage:t})}}e.default=n},834:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(33),a=i(s(981)),n=i(s(242)),h=i(s(967)),o=i(s(41));class d extends r.GameElement{constructor(){super(),this.viewportCollider=new r.ViewportCollider,this.userInterface=new o.default({stage:this}),this.centerBall=new a.default,this.playerBall=new h.default({stage:this}),this.outerBalls=Array.from({length:6}).map(((t,e)=>new n.default({stage:this,id:e}))),this.playerBall.collider.obsserve(this.viewportCollider,this.handleMiss.bind(this)),this.outerBalls.forEach((t=>{this.playerBall.collider.obsserve(t.collider,this.handleOuterBallHit.bind(this,t))})),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("click",this.handleShoot.bind(this)),document.addEventListener("touchstart",this.handleShoot.bind(this))}setup(){this.state={status:"playing",score:0,target:Math.floor(6*Math.random())}}handleKeyDown(t){"Space"===t.code&&this.handleShoot()}handleShoot(){"gameover"===this.state.status?this.propagateSetup():this.playerBall.shoot()}handleMiss(){this.state.status="gameover"}handleOuterBallHit(t){var e;if("shooted"!==this.playerBall.state)return;if(!t.isTarget)return void this.handleMiss();let s;this.playerBall.return(),this.state.score++,null===(e=this.outerBalls.find((t=>t.id===this.state.target)))||void 0===e||e.hited();do{s=Math.floor(6*Math.random())}while(s===this.state.target);this.state.target=s}}e.default=d},386:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(33),a=i(s(834));class n extends r.Game{constructor(t){super({canvas:t}),this.stage=new a.default}}e.default=n},959:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(581));class a extends r.default{constructor({canvas:t}){super(),this.canvas=t;const e=t.getContext("2d");if(!e)throw new Error("No canvas context found");this.renderer=e,this.width=this.canvas.width,this.height=this.canvas.height,this.startTime=this.lastTime=Date.now().valueOf()}start(){this.startTime=Date.now().valueOf();const t=this.startTime-this.lastTime;this.lastTime=this.startTime,this.propagateSetup({renderer:this.renderer,time:this.lastTime-this.startTime,deltaTime:t,width:this.width,height:this.height}),this.loop()}stop(){this.animationId&&cancelAnimationFrame(this.animationId)}loop(){this.width=this.canvas.width=this.canvas.clientWidth,this.height=this.canvas.height=this.canvas.clientHeight,this.renderer.clearRect(0,0,this.width,this.height);const t=Date.now().valueOf(),e=t-this.lastTime;this.lastTime=t,this.propagateUpdate({renderer:this.renderer,time:this.lastTime-this.startTime,deltaTime:e,width:this.width,height:this.height}),this.animationId=requestAnimationFrame(this.loop.bind(this))}update(t){}}e.default=a},581:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class s{propagateSetup(t,e=[]){e.some((t=>t===this))||(this.setup(t),e.push(this),Object.values(this).forEach((i=>{i instanceof s&&i.propagateSetup(t,e),Array.isArray(i)&&i.forEach((i=>{i instanceof s&&i.propagateSetup(t,e)}))})))}propagateUpdate(t,e=[]){e.some((t=>t===this))||(this.update(t),e.push(this),Object.values(this).forEach((i=>{i instanceof s&&i.propagateUpdate(t,e),Array.isArray(i)&&i.forEach((i=>{i instanceof s&&i.propagateUpdate(t,e)}))})))}setup(t){}update(t){}}e.default=s},266:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(738)),a=i(s(241)),n=i(s(701)),h=i(s(896));class o extends r.default{constructor({radius:t,centerX:e=0,centerY:s=0,showDebug:i}){super({showDebug:i}),this.radius=t,this.centerX=e,this.centerY=s}isCollidingWith(t){return t instanceof o?(0,a.default)(this,t):t instanceof h.default&&(0,n.default)(this,t)}update({renderer:t}){this.showDebug&&(t.beginPath(),t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1),t.strokeStyle="red",t.stroke(),t.beginPath(),t.moveTo(this.centerX,this.centerY-this.radius),t.lineTo(this.centerX,this.centerY+this.radius),t.strokeStyle="red",t.stroke(),t.beginPath(),t.moveTo(this.centerX-this.radius,this.centerY),t.lineTo(this.centerX+this.radius,this.centerY),t.strokeStyle="red",t.stroke())}}e.default=o},738:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(581));class a extends r.default{constructor({showDebug:t=!1}={}){super(),this.observers=[],this.showDebug=t}obsserve(t,e){this.observers.push({target:t,cb:e})}removeOvserver(t){const e=this.observers.findIndex((e=>e.target===t));this.observers.splice(e,1)}propagateUpdate(t){Object.values(this.observers).forEach((t=>{this.propagateIsColliding(t.target)&&t.cb()})),super.propagateUpdate(t)}propagateIsColliding(t){return!!this.isCollidingWith(t)||Object.values(t).some((t=>t instanceof a&&this.isCollidingWith(t)))}isCollidingWith(t){throw new Error("Not implemented.")}}e.default=a},896:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(266)),a=i(s(738)),n=i(s(701)),h=i(s(692));class o extends a.default{constructor({top:t=0,left:e=0,width:s=0,height:i=0,showDebug:r}={}){super({showDebug:r}),this.top=t,this.left=e,this.width=s,this.height=i}isCollidingWith(t){return t instanceof o?(0,h.default)(this,t):t instanceof r.default&&(0,n.default)(t,this)}update({renderer:t}){if(!this.showDebug)return;t.beginPath(),t.rect(this.left,this.top,this.width,this.height),t.strokeStyle="red",t.stroke();const e=this.left+this.width/2,s=this.top+this.height/2;t.beginPath(),t.moveTo(e,this.top),t.lineTo(e,this.top+this.height),t.strokeStyle="red",t.stroke(),t.beginPath(),t.moveTo(this.left,s),t.lineTo(this.left+this.width,s),t.strokeStyle="red",t.stroke()}}e.default=o},64:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(738)),a=i(s(896));class n extends r.default{constructor({showDebug:t}={}){super({showDebug:t}),this.top=new a.default({showDebug:t}),this.bottom=new a.default({showDebug:t}),this.left=new a.default({showDebug:t}),this.right=new a.default({showDebug:t})}update(t){this.top.top=-t.height,this.top.left=-t.width,this.top.width=3*t.width,this.top.height=t.height,this.bottom.top=t.height,this.bottom.left=-t.width,this.bottom.width=3*t.width,this.bottom.height=t.height,this.left.top=0,this.left.left=-t.width,this.left.width=t.width,this.left.height=t.height,this.right.top=0,this.right.left=t.width,this.right.width=t.width,this.right.height=t.height,this.top.showDebug=this.showDebug,this.bottom.showDebug=this.showDebug,this.left.showDebug=this.showDebug,this.right.showDebug=this.showDebug,super.update(t)}isCollidingWith(t){return this.top.isCollidingWith(t)||this.bottom.isCollidingWith(t)||this.left.isCollidingWith(t)||this.right.isCollidingWith(t)}}e.default=n},241:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){const s=t.centerX-e.centerX,i=t.centerY-e.centerY;return Math.sqrt(s*s+i*i)<t.radius+e.radius}},701:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){const s=Math.abs(t.centerX-e.left-e.width/2),i=Math.abs(t.centerY-e.top-e.height/2);return!(s>e.width/2+t.radius||i>e.height/2+t.radius||!(s<=e.width/2||i<=e.height/2||(s-e.width/2)**2+(i-e.height/2)**2<=t.radius**2))}},692:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.left<e.left+e.width&&t.left+t.width>e.left&&t.top<e.top+e.height&&t.top+t.height>e.top}},33:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportCollider=e.RectangleCollider=e.CircleCollider=e.CircleShape=e.GameElement=e.Game=void 0;const r=i(s(959));e.Game=r.default;const a=i(s(581));e.GameElement=a.default;const n=i(s(263));e.CircleShape=n.default;const h=i(s(266));e.CircleCollider=h.default;const o=i(s(896));e.RectangleCollider=o.default;const d=i(s(64));e.ViewportCollider=d.default},263:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(581));class a extends r.default{constructor({radius:t=0,color:e="#fff",centerX:s=0,centerY:i=0}={}){super(),this.radius=t,this.color=e,this.centerX=s,this.centerY=i}update({renderer:t}){t.beginPath(),t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1),t.fillStyle=this.color,t.fill()}}e.default=a},607:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),s(548);const r=i(s(386)),a=document.createElement("canvas");document.body.appendChild(a),new r.default(a).start()}},t=>{t(t.s=607)}]);